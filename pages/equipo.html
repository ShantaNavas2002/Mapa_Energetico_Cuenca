<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuenca Solar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/componentes/head-footer.Css">
    <link rel="stylesheet" href="css/componentes/barra-lateral.css">
    <link rel="stylesheet" href="css/Equipo.css">
    
    <script src="js/MenuLateral.js"></script>
</head>
<body>
    <div class="overlay" id="overlay"></div>

    <header class="mi-grid-3">
        <div class="position-btn">
            <div id="menu-container"></div>
            <button class="btn-menu" onclick="toggleMenu()">
                <i class="fa-solid fa-house"></i>
            </button>
        </div>
        <a href="index.html" class="link-logo">
            <img class="Logo-cuencasolar" src="images/UI_LogoCuencaSolar.svg" alt="Logo Cuenca Solar">
        </a>
        <img class="Logo-consiso" src="images/logoConsiso.svg" alt="logo de Consiso">
    </header>

    <div class="carousel-container">
        <div class="carousel-viewport">
            <div class="carousel-track" id="carouselTrack"></div>
        </div>
    </div>

    <div class="quienes-somos-section">
        <div class="qs-container">
            <div class="qs-text">
                <h2>Autores</h2>
                <p>
                    Cuenca Solar nace de la convicción de que el futuro energético se construye en comunidad. Somos el resultado de un esfuerzo interdisciplinario que une la visión de arquitectos, ingenieros y diseñadores de tres grandes instituciones: la Universidad Católica de Cuenca <strong>(UCACUE)</strong>, la Universidad de Cuenca <strong>(UCUENCA)</strong> y la Escuela Superior Politécnica de Chimborazo <strong>(ESPOCH)</strong>. Este esfuerzo es liderado por el Laboratorio <strong> CONSISO Lab </strong>(UCACUE) y forma parte del proyecto macro "Implicaciones Energéticas de las Transformaciones Urbanas en las Ciudades Intermedias" (IMETU), gracias al patrocinio y soporte de CEDIA.
                </p>
            </div>
            <div class="qs-logo-container">
                <img src="images/logoConsiso.svg" alt="Logo Consiso Grande">
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-col contact-section">
                <h2>Contacto</h2>
                <div class="contact-links">
                    <a href="https://www.instagram.com/consisolab" target="_blank" class="link-item">
                        <i class="fa-brands fa-instagram"></i> <span>@ConsisoLab</span>
                    </a>
                    <a href="mailto:consisolab@ucacue.edu.ec" class="link-item">
                        <i class="fa-regular fa-envelope"></i> <span>consisolab@ucacue.edu.ec</span>
                    </a>
                </div>
            </div>

            <div class="footer-col">
                <h2>Contribuidores</h2>
                <div class="avatar-group">
                    <img src="images/UCACUE.png" alt="Colaborador 2" class="avatar">
                    <img src="images/Marca_UCuenca_2021_Fondo_Blanco_(1).png" alt="Colaborador 3" class="avatar">
                    <img src="images/logo-espoch.png" alt="Colaborador 1" class="avatar">
                </div>
            </div>

            <div class="footer-col">
                <h2>Sobre la Web</h2>
                <p class="web-info">
                    Esta plataforma visualiza datos energéticos<br>
                    geo-referenciados para el análisis<br>
                    urbano sostenible.
                </p>
                <p class="copyright">© 2025 Consiso</p>
            </div>
        </div>
    </footer>

    <script>
        const teamMembers = [
            { name: "Jefferson Torres-Quezada", position: "Director", email: "jefferson.torres@ucacue.edu.ec", image: "images/Jefferson Torres.jpeg" },
            { name: "Atila Avila Argudo", position: "Desarrollador de datos", email: "atila.avila@ucacue.edu.ec", image: "images/Atila Avila.jpg" },
            { name: "Steven Lopez Sanchez", position: "Desarrollador de datos", email: "steven2603lopez@outlook.es", image: "images/Steven Lopez.png" },
            { name: "Santiago Navas Falconi", position: "Desarrollo web", email: "alex.navas@ucacue.edu.ec", image: "images/SantiagoNavas.png" },
            { name: "Antonio Barragán", position: "Asesor energético", email: "antonio.barragan@ucuenca.edu.ec", image: "images/Antonio Barragan.png" },
            { name: "Geovany Albarracín ", position: "Asesor urbano", email: "steven@consiso.com", image: "images/Geovani Albarracin.png" },
            { name: "Christian Contreras", position: "Asesor urbano", email: "chcontrerase@ucacue.edu.ec", image: "images/Christian Contreras.png" }
        ];

        function createTeamCard(member) {
            return `
                <div class="team-card">
                    <img src="${member.image}" alt="Foto de ${member.name}" draggable="false">
                    <div class="card-info-overlay">
                        <h3 class="card-nombre">${member.name}</h3>
                        <p class="card-cargo">${member.position}</p>
                        <a href="mailto:${member.email}" class="card-email">
                            <i class="fa-regular fa-envelope"></i> ${member.email}
                        </a>
                    </div>
                </div>
            `;
        }

        const track = document.getElementById('carouselTrack');
        const autoPlaySpeed = 0.8;
        
        let isDragging = false;
        let isHovering = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID;
        let itemWidth = 0;
        let totalWidth = 0;

        function initCarousel() {
            const cardsHTML = teamMembers.map(createTeamCard).join('');
            track.innerHTML = cardsHTML + cardsHTML + cardsHTML;

            setTimeout(() => {
                calculateDimensions();
                currentTranslate = -totalWidth;
                prevTranslate = -totalWidth;
                requestAnimationFrame(animate);
            }, 100);
        }

        function calculateDimensions() {
            const firstCard = track.querySelector('.team-card');
            if (firstCard) {
                const style = window.getComputedStyle(track);
                const gap = parseFloat(style.gap) || 24;
                itemWidth = firstCard.offsetWidth + gap;
                totalWidth = itemWidth * teamMembers.length;
            }
        }

        track.addEventListener('mouseenter', () => isHovering = true);
        track.addEventListener('mouseleave', () => { 
            isHovering = false; 
            if(isDragging) touchEnd(); 
        });

        track.addEventListener('mousedown', touchStart);
        track.addEventListener('touchstart', touchStart);
        track.addEventListener('mouseup', touchEnd);
        track.addEventListener('touchend', touchEnd);
        track.addEventListener('mousemove', touchMove);
        track.addEventListener('touchmove', touchMove);

        track.addEventListener('wheel', (e) => {
            e.preventDefault();
            isHovering = true;
            const scrollSpeed = 0.2; 
            currentTranslate -= e.deltaY * scrollSpeed;
            
            clearTimeout(window.scrollTimeout);
            window.scrollTimeout = setTimeout(() => isHovering = false, 1000);
        }, { passive: false });

        function touchStart(event) {
            isDragging = true;
            track.classList.add('grabbing');
            startPos = getPositionX(event);
            prevTranslate = currentTranslate; 
        }

        function touchEnd() {
            isDragging = false;
            track.classList.remove('grabbing');
            prevTranslate = currentTranslate;
        }

        function touchMove(event) {
            if (isDragging) {
                const currentPosition = getPositionX(event);
                const currentMove = currentPosition - startPos;
                currentTranslate = prevTranslate + currentMove;
            }
        }

        function getPositionX(event) {
            return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
        }

        function animate() {
            if (!isDragging && !isHovering) {
                currentTranslate -= autoPlaySpeed;
            }

            checkInfiniteLoop();
            setSliderPosition();
            requestAnimationFrame(animate);
        }

        function checkInfiniteLoop() {
            if (currentTranslate <= -(totalWidth * 2)) {
                const offset = totalWidth;
                currentTranslate += offset;
                prevTranslate += offset;
                startPos += offset; 
            }
            
            if (currentTranslate >= -100) { 
                const offset = totalWidth;
                currentTranslate -= offset;
                prevTranslate -= offset;
                startPos -= offset;
            }
        }

        function setSliderPosition() {
            track.style.transform = `translateX(${currentTranslate}px)`;
        }

        window.addEventListener('DOMContentLoaded', initCarousel);
        window.addEventListener('resize', () => {
            calculateDimensions();
        });
    </script>
</body>
</html>